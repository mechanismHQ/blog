"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[697],{3905:function(e,t,i){i.d(t,{Zo:function(){return h},kt:function(){return p}});var a=i(7294);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t){if(null==e)return{};var i,a,n=function(e,t){if(null==e)return{};var i,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)i=o[a],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)i=o[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var l=a.createContext({}),c=function(e){var t=a.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):r(r({},t),e)),i},h=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var i=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,h=s(e,["components","mdxType","originalType","parentName"]),d=c(i),p=n,f=d["".concat(l,".").concat(p)]||d[p]||u[p]||o;return i?a.createElement(f,r(r({ref:t},h),{},{components:i})):a.createElement(f,r({ref:t},h))}));function p(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=i.length,r=new Array(o);r[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:n,r[1]=s;for(var c=2;c<o;c++)r[c]=i[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,i)}d.displayName="MDXCreateElement"},6755:function(e,t,i){i.r(t),i.d(t,{assets:function(){return h},contentTitle:function(){return l},default:function(){return p},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return u}});var a=i(7462),n=i(3366),o=(i(7294),i(3905)),r=["components"],s={tags:["DeFi","Bitcoin"],slug:"bitcoin-difficulty-stablecoin",authors:["hank"]},l="Using Bitcoin to create a truly decentralized stablecoin",c={permalink:"/bitcoin-difficulty-stablecoin",source:"@site/blog/2022-03-21-difficulty-stablecoin/index.md",title:"Using Bitcoin to create a truly decentralized stablecoin",description:"Today we'd like to present a wild idea: a Bitcoin-backed stablecoin that isn't pegged to any fiat currency. Instead of using any traditional oracle methods, it uses Bitcoin's hash rate to calculate the \"purchasing power\" of Bitcoin.",date:"2022-03-21T00:00:00.000Z",formattedDate:"March 21, 2022",tags:[{label:"DeFi",permalink:"/tags/de-fi"},{label:"Bitcoin",permalink:"/tags/bitcoin"}],truncated:!1,authors:[{name:"Hank Stoever",twitter:"@heynky",imageURL:"https://github.com/hstove.png",key:"hank"}],frontMatter:{tags:["DeFi","Bitcoin"],slug:"bitcoin-difficulty-stablecoin",authors:["hank"]},nextItem:{title:"PoXL ideas: Proportional mining rewards",permalink:"/poxl-proportional-mining-rewards"}},h={authorsImageUrls:[void 0]},u=[{value:"What would this look like?",id:"what-would-this-look-like",level:2},{value:"Problems with today&#39;s pegged stablecoins",id:"problems-with-todays-pegged-stablecoins",level:2},{value:"Even &quot;decentralized&quot; stablecoins have other problems",id:"even-decentralized-stablecoins-have-other-problems",level:3},{value:"Dampened Bitcoin",id:"dampened-bitcoin",level:2},{value:"Stacks is the perfect chain for dampened Bitcoin",id:"stacks-is-the-perfect-chain-for-dampened-bitcoin",level:2},{value:"Challenges",id:"challenges",level:2},{value:"Difficulty is a lagging indicator",id:"difficulty-is-a-lagging-indicator",level:3},{value:"Bitcoin collateral",id:"bitcoin-collateral",level:3}],d={toc:u};function p(e){var t=e.components,s=(0,n.Z)(e,r);return(0,o.kt)("wrapper",(0,a.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Today we'd like to present a wild idea: a Bitcoin-backed stablecoin that isn't pegged to any fiat currency. Instead of using any traditional oracle methods, it uses Bitcoin's hash rate to calculate the \"purchasing power\" of Bitcoin."),(0,o.kt)("p",null,'By not pegging this stablecoin to any fiat-based price, this would be based on the "true" purchasing power of Bitcoin. In a world where fiat currencies are being debased at an alarming rate, this idea is designed to function in a world where Bitcoin is the monetary standard.'),(0,o.kt)("p",null,"In this post we'll outline the problems related to current pegged stablecoins, how this idea could be implemented, and why Stacks is the only chain where this idea could exist."),(0,o.kt)("h2",{id:"what-would-this-look-like"},"What would this look like?"),(0,o.kt)("p",null,"At launch, the stablecoin would be pegged to x% of Bitcoin\u2019s value. Whenever Bitcoin\u2019s difficulty increases or decreases, the value of this stablecoin would shift in the opposite direction. When difficulty increases, the value of one stablecoin decreases. When difficulty decreases, the stablecoin becomes more valuable. This allows the stablecoin to remain at a more \u201cstable\u201d value without being pegged to any fiat currencies."),(0,o.kt)("p",null,"As an example:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"At some point in time, 100 of these stablecoins can be redeemed for 1 BTC"),(0,o.kt)("li",{parentName:"ol"},"Difficulty increases 10%, which is loosely correlated with a price increase of BTC"),(0,o.kt)("li",{parentName:"ol"},"Now, it takes 110 stablecoins to redeem 1 BTC")),(0,o.kt)("h2",{id:"problems-with-todays-pegged-stablecoins"},"Problems with today's pegged stablecoins"),(0,o.kt)("p",null,"Ideally, stablecoins allow users to hold an asset that maintains a constant purchasing power. Most crypto assets have high price volatility, which limits the utility of their use as a medium of exchange."),(0,o.kt)("p",null,"Today's stablecoins aim to solve this problem by pegging their value to a specific asset or a basket of assets. More specifically, the vast majority of stablecoins are pegged to the US dollar. Unfortunately, with high inflation and dollar debasement, the actual purchasing power per USD is in a constant decline."),(0,o.kt)("h3",{id:"even-decentralized-stablecoins-have-other-problems"},'Even "decentralized" stablecoins have other problems'),(0,o.kt)("p",null,'Additionally, the design of "decentralized" stablecoins present further problems. They rely on some form of collateral to backstop the system - but these collateral types are not as strong as Bitcoin when it comes to resilience as a monetary asset.'),(0,o.kt)("p",null,"They also rely on some form of a price oracle to maintain the mechanism that keeps their stablecoin pegged. These oracles are prone to centralization and have proven to be major risk factors for many projects."),(0,o.kt)("p",null,"This raises the question - is there a way to build a stablecoin that overcomes these flaws?"),(0,o.kt)("h2",{id:"dampened-bitcoin"},"Dampened Bitcoin"),(0,o.kt)("p",null,"We're presenting a solution that utilizes all of the great research and development of today's decentralized stablecoins, but uses Bitcoin's difficulty as the \"source of truth\" for the value of the collateral in the system."),(0,o.kt)("p",null,'The concept of a "dampened" asset was popularized by ',(0,o.kt)("a",{parentName:"p",href:"https://reflexer.finance/"},"Reflexer"),", the DAO behind the RAI stablecoin. They aim to solve the problems of fiat-pegged assets that we described above. To understand how RAI works, check out their ",(0,o.kt)("a",{parentName:"p",href:"https://medium.com/reflexer-labs/stability-without-pegs-8c6a1cbc7fbd"},"explainer")," ."),(0,o.kt)("p",null,"Our design tweaks the RAI model with two variations:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Using Bitcoin's difficulty metric as an oracle"),(0,o.kt)("li",{parentName:"ol"},"Using Bitcoin (instead of ETH) as collateral")),(0,o.kt)("p",null,'In effect, you can think of the "value" of this stablecoin as a stable unit of Bitcoin\'s difficulty. An increase in difficulty is correlated with an increase in Bitcoin\'s value. When difficulty increases, the value of this stablecoin would decrease in relation to Bitcoin. A decrease in difficulty would increase the market price of our stablecoin in relation to Bitcoin. In effect, this "dampens" the volatility of Bitcoin\'s price, allowing Bitcoiners to hold an asset with a more constant purchasing power.'),(0,o.kt)("h2",{id:"stacks-is-the-perfect-chain-for-dampened-bitcoin"},"Stacks is the perfect chain for dampened Bitcoin"),(0,o.kt)("p",null,"If we had to pick the one \"super power\" of Stacks, it's that Stacks smart contracts can trustlessly read Bitcoin block headers in Clarity contracts. No other chain can do this (without oracles), and this is due to the unique nature of how Stacks is built on top of Bitcoin. We've already seen how this super power can be used for trustless swaps based on Bitcoin transactions in apps like ",(0,o.kt)("a",{parentName:"p",href:"https://www.catamaranswaps.org/"},"Catamaran Swaps"),", ",(0,o.kt)("a",{parentName:"p",href:"https://www.lnswap.org/"},"LNSwap"),", and ",(0,o.kt)("a",{parentName:"p",href:"https://www.magic.fun/"},"Magic"),"."),(0,o.kt)("p",null,'Our idea utilizes Bitcoin block headers for a different and novel use: reading Bitcoin\'s current difficulty. In the block header are four bytes that are a compact representation of the current "difficulty target" (or ',(0,o.kt)("inlineCode",{parentName:"p"},"nBits"),")."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Stacks is the only smart contract chain that can read this data trustlessly"),". Even Bitcoin's scripting language doesn't have a way of executing logic based on the current difficulty."),(0,o.kt)("p",null,"On top of this super power, Stacks has the same smart contract abilities that are required to support the complex mechanism designs required to implement a full DeFi protocol around this idea."),(0,o.kt)("h2",{id:"challenges"},"Challenges"),(0,o.kt)("p",null,"As exciting as this idea is, there are a few challenges to be solved before turning it into a reality."),(0,o.kt)("h3",{id:"difficulty-is-a-lagging-indicator"},"Difficulty is a lagging indicator"),(0,o.kt)("p",null,"The design of Bitcoin's difficulty is not 100% correlated with the market price, or purchasing power, of Bitcoin. Difficulty changes based on the total miner hash rate, but hash rate will never be perfectly reflective of price. Mining Bitcoin requires a large up-front investment of capital, and miners expect some amount of profit from their endeavors. Because of this, there will likely never be a perfect correlation between hash rate and time."),(0,o.kt)("p",null,"Additionally, it's rare to see hash rate drop, even in Bitcoin bear markets. This goes back to the nature of mining requiring up-front capital - once a mining rig is bought, your only marginal cost is electricity. Bitcoin miners are typically long-term bullish on Bitcoin, so they'd rather steadily acquire more BTC, even if the marginal cost of electricity is more than their revenue at current prices."),(0,o.kt)("p",null,"For these reasons, some even believe that hash rate is a ",(0,o.kt)("strong",{parentName:"p"},"leading indicator"),". In the chart below, we see that hash rate increases even as the market price of BTC is decreasing."),(0,o.kt)("p",null,(0,o.kt)("img",{loading:"lazy",alt:"difficulty vs price",src:i(8014).Z,width:"2492",height:"1298"})),(0,o.kt)("p",null,"Unlike hash rate, Bitcoin's difficulty is not a constantly-changing number. Bitcoin's consensus mechanism only updates difficulty every 2016 blocks - roughly every two weeks. This adjustment is made by measuring the time it took to create those 2016 blocks. If it took less than two weeks, difficulty is increased, and vice-versa. A protocol on Stacks could compare block intervals in its \"oracle\" to more dynamically estimate the current hash rate."),(0,o.kt)("p",null,'Building a stablecoin around hash rate will therefore likely contain more short-term volatility than a pegged stablecoin. This won\'t be ideal for all consumers, but for Bitcoiners who value decentralization and "hard money", this design should fit their needs.'),(0,o.kt)("h3",{id:"bitcoin-collateral"},"Bitcoin collateral"),(0,o.kt)("p",null,'Although Stacks already has the capabilities needed to measure hash rate, using Bitcoin as collateral on Stacks is still an area of research. As of today, Stacks has xBTC, which is a centralized "wrapped" Bitcoin asset. In a protocol where decentralization is a core value, this is likely insufficient.'),(0,o.kt)("p",null,'Luckily, there are areas of research where this can be improved. One potential solution is to create a "stablecoin" pegged to Bitcoin\'s value, much like some other synthetic assets. ',(0,o.kt)("a",{parentName:"p",href:"https://www.drivechain.info/"},"BIPs 300 and 301")," aim to support native and trustless transferring of Bitcoin to other chains and back. Hopefully, Stacks could be a chain that supports this when those BIPs are implemented."),(0,o.kt)("hr",null),(0,o.kt)("p",null,"We think that building a stablecoin that isn't pegged to any fiat currencies is a critical solution for a world where Bitcoin is the standard monetary asset. By using difficulty as a trustless measure of Bitcoin's purchasing power, we can eliminate the need for oracles as a dependency. Although this design comes with challenges, this is exactly the type of innovation that we at Mechanism hope to bring into the world."))}p.isMDXComponent=!0},8014:function(e,t,i){t.Z=i.p+"assets/images/difficulty-chart-c4d6abc5528fb86b1379cf8991cf791f.png"}}]);